@use "./mixins.scss";
@use "./palette.scss";
@use "./devices.scss";
@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap");

.game {
    font-family: "Orbitron", sans-serif;
}

.game {
    &__background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
    }

    &__overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background-color: transparent;
    }

    &__content {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 95%;
        max-width: 600px;
        text-align: center;
        z-index: 10;

        & .game__title {
            font-size: 1.2rem;
            letter-spacing: 0.05em;
            color: palette.$tiel;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 2px 2px 6px palette.$text-shadow-dark;
            font-family: "Orbitron", sans-serif;

            &-word {
                letter-spacing: 0.2em;
                color: palette.$white;
                text-shadow: 3px 3px 4px rgba(0, 0, 0, 0.2);
            }

            &-gap {
                display: inline-block;
                width: 17px;
            }
        }

        & .game__display {
            background-color: palette.$semi-transparent-dark-overlay;
            color: palette.$white;
            border-radius: 10px;
            padding: 8px 10px;
            box-shadow: 0 4px 10px palette.$box-shadow-dark;
            backdrop-filter: blur(4px);
            display: grid;
            grid-row-gap: 4px;
            font-size: 0.85rem;

            & .game__bin,
            & .game__lives {
                margin-bottom: 4px;
                color: palette.$white-sand;
                font-weight: bold;
            }

            & .game__legend {
                display: none;
                background-color: palette.$kelly-green;
                color: palette.$white;
                padding: 3px 6px;
                border-radius: 8px;
                font-size: 0.8rem;
                font-weight: bold;
                box-shadow: inset 2 2 5px palette.$box-shadow-dark;
                text-align: center;
                letter-spacing: 0.5px;
            }

            & .game__message {
                color: palette.$sandy-brown;
                font-weight: bold;
                font-size: 1.2rem;
            }
        }

        & .game__start-button {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 16px;
            background-color: palette.$kelly-green;
            color: palette.$white;
            font-weight: bold;
            font-size: 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            box-shadow: 0 4px 8px palette.$box-shadow-dark;
            transition: background-color 0.3s ease;
            font-family: "Orbitron", sans-serif;

            &:hover {
                background-color: palette.$aquamarine;
                color: palette.$navy-blue;
            }

            &:disabled {
                background-color: palette.$navy-blue;
                cursor: not-allowed;
                opacity: 0.6;
            }
        }
        // display trash in the middle
        & .game__trash-area {
            position: relative;
            margin: 20px auto;
            width: 90%;
            max-width: 800px;
            height: 200px;
            overflow: hidden;
        }
    }

    &__bin-icon {
        position: absolute;
        bottom: 20px;
        right: 20px;
        font-size: 7.5rem;
        color: palette.$deep-sky-blue;
        text-shadow: 0 0 10px palette.$deep-sky-blue,
            0 0 20px palette.$aquamarine;

        .bin-score {
            position: absolute;
            top: 65%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: palette.$white;
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px palette.$box-shadow-dark;
            pointer-events: none;
        }
    }
}

.game__fireworks {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9999;
}

@include mixins.tablets {
    .game {
        &__content {
            max-width: 800px;

            & .game__title {
                font-size: 2rem;
            }

            & .game__display {
                font-size: 1.5rem;
            }

            & .game__start-button {
                font-size: 1.2rem;
                padding: 12px 24px;
            }

            & .game__trash-area {
                height: 300px;
                max-width: 600px;
            }
            & .game__legend {
                font-size: 1.6rem;
            }
        }

        &__bin-icon {
            font-size: 11rem;

            .bin-score {
                font-size: 4rem;
            }
        }
    }
}

@include mixins.desktop {
    .game {
        overflow-x: hidden;

        &__seaweed {
            position: absolute;
            bottom: 0;
            left: 0;
            display: flex;
            gap: 2rem;
            font-size: 6rem;
            padding: 1rem;
            max-width: calc(100% - 180px); // leaves space for the bin
            overflow: hidden;
            z-index: 5;
        }

        &__seaweed > * {
            margin: 0;
            display: inline-block;
            animation: sway 2s ease-in-out infinite;
        }

        &__seaweed > *:nth-child(odd) {
            animation-delay: 0.3s;
        }

        &__seaweed > *:nth-child(even) {
            animation-delay: 0.6s;
        }

        &__bin-icon {
            right: 25px;
        }

        .bin-score {
            font-size: 3rem !important;
        }
    }

    .game {
        &__content {
            max-width: 960px;

            & .game__title {
                font-size: 2.5rem;
            }

            & .game__display {
                font-size: 1.5rem;
                padding: 16px 24px;
            }

            & .game__start-button {
                font-size: 1.4rem;
                padding: 12px 24px;
            }

            & .game__trash-area {
                height: 300px;
                max-width: 700px;
            }

            & .game__legend {
                font-size: 1.5rem;
                padding: 8px 12px;
            }
        }

        &__bin-icon {
            font-size: 10rem;

            .bin-score {
                font-size: 5rem;
            }
        }
    }
}

@keyframes sway {
    0% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-20px) rotate(-3deg);
    }
    100% {
        transform: translateY(0);
    }
}
